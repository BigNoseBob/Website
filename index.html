<!-- Oliver Rayner -->
<!-- July 2022 -->

<!DOCTYPE html>
<style src="css/style.css"></style>
<script>

    const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms)) 
    const random = (min, max) => Math.floor(Math.random() * (max - min + 1) + min)

    async function random_typing_input(input_field, string, { delay, min }) {
        delay = delay || 1000  // ms
        min = min || 0
        for (let i = 0; i < string.length; i++) {
            input_field.value += string[i]
            await sleep(random(min, delay))
        }
    }

    async function delete_type_input(element, { delay, min, chars_to_delete }) {
        delay = delay || 1000   // ms
        min = min || 100        // ms
        chars_to_delete = chars_to_delete || 1000000000
        while (element.value.length != 0 && chars_to_delete > 0) {
            element.value = element.value.substring(0, element.value.length - 1)
            chars_to_delete -= 1
            await sleep(random(min, delay))
        }
    }

    window.onload = async () => {

        const terminal_input = document.getElementById('terminal_input')
        await sleep(1000)
        await random_typing_input(terminal_input, 'Hello.', { delay: 100, min: 100 })
        await sleep(2500)
        await delete_type_input(terminal_input, { delay: 50, min: 50 })
        await sleep(1000)
        await random_typing_input(terminal_input, 'My name is Oliver.', { delay: 100, min: 100 })
    }

</script>
<html>
<header>
    <meta charset="UTF-8">
    <title>Oliver Rayner</title>  <!--This is the thingy that appears in the hotbar-->
    <link rel="stylesheet" type="text/css" href="./css/style.css"/>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</header>
    <body class="full_image">
        <div class="terminal">
            <span>
                <input class="terminal_input" id="terminal_input" value="" autofocus>
            </span>
        </div>  
    </body>
</html>
